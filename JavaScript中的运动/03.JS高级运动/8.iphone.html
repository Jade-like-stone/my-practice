<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>iPhone手机图片查看器 - 妙味课堂 - www.miaov.com</title>
    <style type="text/css">

        * { padding: 0; margin: 0; }
        li { list-style: none; }
        body { background: #333; }
        #iphone { width: 900px; height: 600px; background: url(images/bg.png); position: absolute; top: 50%; left: 50%; margin: -300px 0 0 -450px; }
        #wrap { width: 238px; height: 360px; position: absolute; top: 121px; left: 326px; overflow:hidden; }
        #iphone ul { width: 960px; height: 361px; cursor: pointer; position: absolute; top: 0px; left: 0px; }
        #iphone li { float: left; width:240px; height:360px; overflow:hidden; }
    </style>
   <script type="text/javascript">
       window.onload=function () {
           var oUl=document.getElementById('ul1');
           var aLi=oUl.getElementsByTagName('li');
           var timer=null;
           var iSpeed=0;
           var iNow=0;
             var disX;
             var downX=0;
           oUl.onmousedown=function (ev) {
               var ev=ev||event;
               downX=ev.clientX;
                disX=ev.clientX-oUl.offsetLeft;
           document.onmousemove=function (ev) {
               var ev=ev||event;
               oUl.style.left=ev.clientX-disX+'px';
           };
           document.onmouseup=function (ev) {
               document.onmouseup=document.onmousemove=null;
               var ev=ev||event;
               if (ev.clientX < downX){
//                   alert('←');

                   if (iNow!=aLi.length-1){
                       iNow++;
                   }

                   doMove(-iNow*aLi[0].offsetWidth);
               }else {
//                   alert('→');
                  if(iNow!=0){
                      iNow--;
                  }
                   doMove(-iNow*aLi[0].offsetWidth);
               }
           };
           return false;
           }
            function doMove(iTarget) {
                clearInterval(timer);
                timer=setInterval(function () {
                    iSpeed+=(iTarget-oUl.offsetLeft)/8;
                    iSpeed*=0.7;

                    if(Math.abs(iSpeed)<=1 && Math.abs(iTarget-oUl.offsetLeft)<=1){
                        clearInterval(timer);
                        iSpeed=0;
                        oUl.style.left=iTarget+'px';
                    }else {
                        oUl.style.left=oUl.offsetLeft+iSpeed+'px';
                    }
                },30);
            }

       }
   </script>

</head>

<body>

<div id="iphone" >
    <div id="wrap">
        <ul id="ul1">
            <li style="background:url(images/pic1.png);" title="妙味课堂"></li>
            <li style="background:url(images/pic2.png);" title="妙味课堂"></li>
            <li style="background:url(images/pic3.png);" title="妙味课堂"></li>
            <li style="background:url(images/pic4.png);" title="妙味课堂"></li>
        </ul>
    </div>
</div>

</body>
</html>
